<div class="section-full bg-white">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="road-price">
                    <form [formGroup]="candidatForm" (ngSubmit)="submitForm()">
                        <div class="form-head bg-primary text-white">
                            <h3 class="m-a0">Créer votre CV </h3>
                        </div>
                        <div formArrayName="Candidat">
                            <div *ngFor="let X of candidatForm['controls'].Candidat['controls']; let ix=index;">
                                <div formGroupName="{{ix}}" class="Candidat">
                                    <div class="sort-title clearfix text-center">
                                        <h4>Informations Personnelles</h4>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 col-sm-6">
                                            <div class="input-group">
                                                <input type="text" formControlName="firstname" placeholder="Votre Nom" class="form-control" />
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="input-group">
                                                <input type="text" formControlName="lastname" placeholder="Votre prénom" class="form-control" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 col-sm-6">
                                            <div class="input-group">
                                                <input type="text" formControlName="email" placeholder="Votre E-mail" class="form-control" />
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="input-group">
                                                <input [ngModel]="date_of_birth | date:'dd-MM-yyyy'" formControlName="date_of_birth" type="date" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12 col-sm-12">
                                            <div class="input-group">
                                                <input type="text" formControlName="adress" placeholder="Votre Adresse" class="form-control" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 col-sm-6">
                                            <div class="input-group">
                                                <input type="text" formControlName="town" placeholder="Votre ville" class="form-control" />
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-sm-6">
                                            <div class="input-group">
                                                <input type="text" formControlName="zipcode" placeholder="Votre code postal" class="form-control" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12 col-sm-12">
                                            <div class="input-group">
                                                <input type="text" formControlName="short_description" placeholder="Votre Description" class="form-control" />
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Langue -->
                                    <div class="dlab-divider divider-4px  bg-black"><i class="icon-dot c-square"></i></div>
                                    <div formArrayName="Langue" id="langue">
                                        <div class="sort-title clearfix text-center">
                                            <h4>Langues</h4>
                                        </div>
                                        <div *ngFor="let L of X['controls'].Langue['controls']; let iy=index">
                                            <div formGroupName="{{iy}}" class="Langue">
                                                <div class="row">
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="input-group">
                                                            <input type="text" formControlName="name" placeholder="Nom de la langue" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="input-group">
                                                            <input type="text" formControlName="level" placeholder="Niveau" class="form-control" />
                                                            <p>{{ formErrors.Candidat[ix].Langue[iy].level }}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <input class="site-button green m-r15" type="button" (click)="addLangue(ix)" value="Ajouter Langue">
                                        <button class="site-button red m-r15" type="button" (click)="delLangue(ix)" id="delete">Supprimer</button>
                                    </div>
                                    <!-- Langue End-->
                                    <!-- Permis -->
                                    <div class="dlab-divider divider-4px  bg-black"><i class="icon-dot c-square"></i></div>
                                    <div formArrayName="License" id="License">
                                        <div class="sort-title clearfix text-center">
                                            <h4>Permis</h4>
                                        </div>
                                        <div *ngFor="let L of X['controls'].License['controls']; let iy=index">
                                            <div formGroupName="{{iy}}" class="License">
                                                <div class="row">
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="input-group">
                                                            <input type="text" formControlName="name" placeholder="Nom du permis" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="input-group">
                                                            <span>Date d'obtention</span>
                                                            <input [ngModel]="date_obtention | date:'dd-MM-yyyy'" formControlName="date_obtention" type="date" />
                                                            <p>{{ formErrors.Candidat[ix].License[iy].date_obtention }}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <input class="site-button green m-r15" type="button" (click)="addLicense(ix)" value="Ajouter un Permis">
                                        <button class="site-button red m-r15" type="button" (click)="delLicense(ix)" id="delete">Supprimer</button>
                                    </div>
                                    <!-- Permis End-->
                                    <!-- Parcours Scolaire -->
                                    <div class="dlab-divider divider-4px  bg-black"><i class="icon-dot c-square"></i></div>
                                    <div formArrayName="School" id="schools">
                                        <div class="sort-title clearfix text-center">
                                            <h4>Parcours Scolaire</h4>
                                        </div>
                                        <div *ngFor="let Y of X['controls'].School['controls']; let iy=index">
                                            <div formGroupName="{{iy}}" class="School">
                                                <div class="row">
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="input-group">
                                                            <input type="text" formControlName="name" placeholder="Nom de l'école" class="form-control" />
                                                            <p> {{ formErrors.Candidat[ix].School[iy].name }}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- Diplome -->
                                                <div class="dlab-divider divider-4px bg-gray-dark"><i class="icon-dot c-square"></i></div>
                                                <div formArrayName="Diplome">
                                                    <div class="sort-title clearfix text-center">
                                                        <h5>Diplome</h5>
                                                    </div>
                                                    <div *ngFor="let Z of Y['controls'].Diplome['controls']; let iz=index">
                                                        <div formGroupName="{{iz}}" class="Diplome">
                                                            <div class="row">
                                                                <div class="col-md-6 col-sm-6">
                                                                    <div class="input-group">
                                                                        <input type="text" formControlName="name" placeholder="Nom du diplome" class="form-control" />
                                                                        <p>{{ formErrors.Candidat[ix].School[iy].Diplome[iz].name }}</p>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-6 col-sm-6">
                                                                    <div class="input-group">
                                                                        <span>Date d'obtention</span>
                                                                        <input [ngModel]="date_obtention | date:'dd-MM-yyyy'" formControlName="date_obtention" type="date" />
                                                                        <p>{{ formErrors.Candidat[ix].School[iy].Diplome[iz].date_obtention }}</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <input class="site-button green m-r15" type="button" (click)="addDiplome(ix,iy)" value="Ajouter Diplome">
                                                    <button class="site-button red m-r15" type="button" (click)="delDiplome(ix, iy)" id="delete">Supprimer</button>
                                                </div>
                                                <!-- Diplome End -->
                                            </div>
                                        </div>
                                        <input class="site-button green m-r15" type="button" (click)="addSchool(ix)" value="Ajouter Ecole">
                                        <button class="site-button red m-r15" type="button" (click)="delSchool(ix)" id="delete">Supprimer</button>
                                    </div>
                                    <!-- Parcours Scolaire End-->
                                    <!-- Parcours Professionel -->
                                    <div class="dlab-divider divider-4px  bg-black"><i class="icon-dot c-square"></i></div>
                                    <div formArrayName="Company">
                                        <div class="sort-title clearfix text-center">
                                            <h4>Parcours Professionel</h4>
                                        </div>
                                        <div *ngFor="let C of X['controls'].Company['controls']; let iy=index">
                                            <div formGroupName="{{iy}}" class="Company">
                                                <div class="row">
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="input-group">
                                                            <input type="text" formControlName="name" placeholder="Nom Entreprise" class="form-control" />
                                                            <p> {{ formErrors.Candidat[ix].Company[iy].name }}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- activité -->
                                                <div class="dlab-divider divider-4px bg-gray-dark"><i class="icon-dot c-square"></i></div>
                                                <div formArrayName="ActivityArea">
                                                    <div class="sort-title clearfix text-center">
                                                        <h5>Secteur d'activité</h5>
                                                    </div>
                                                    <div *ngFor="let D of C['controls'].ActivityArea['controls']; let iz=index">
                                                        <div formGroupName="{{iz}}" class="ActivityArea">
                                                            <div class="row">
                                                                <div class="col-md-6 col-sm-6">
                                                                    <div class="input-group">
                                                                        <input type="text" formControlName="name" placeholder="Nom du Secteur" class="form-control" />
                                                                        <p>{{ formErrors.Candidat[ix].Company[iy].ActivityArea[iz].name }}</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <input class="site-button green m-r15" type="button" (click)="addActivityArea(ix,iy)" value="Ajouter Secteur d'activité">
                                                    <button class="site-button red m-r15" type="button" (click)="delActivityArea(ix, iy)" id="delete">Supprimer</button>
                                                </div>
                                                <!-- activité End -->
                                            </div>
                                        </div>
                                        <input class="site-button green m-r15" type="button" (click)="addCompany(ix)" value="Ajouter Entreprise">
                                        <button class="site-button red m-r15" type="button" (click)="delCompany(ix)" id="delete">Supprimer</button>
                                    </div>
                                    <!-- Parcours Professionel End-->
                                </div>
                            </div>
                            <!-- <input type="button" (click)="addX()" value="Add X">
                            <button type="button" (click)="delX()">Delete</button> -->
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-sm-12">
                                <div class="text-center">
                                    <button type="submit" class="btn btn-primary">Submit</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<h5>Field Values</h5>
<pre style="font-size:15px">{{ candidatForm.value | json }}</pre>